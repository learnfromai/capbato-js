Page Display and Initial Load:
WHEN a user navigates to the patients page 
THE SYSTEM SHALL display a patient records page with header containing "Patient Records" title and "Add New Patient" button

WHEN the patients page loads 
THE SYSTEM SHALL display a search bar with placeholder text "Search patients..."

WHEN the patients page loads 
THE SYSTEM SHALL display a table with column headers "Patient #" and "Patient's Name"

WHEN the patients page loads 
THE SYSTEM SHALL automatically fetch and load all patient data from the server

---

Patient Data Loading and Display:
WHEN patient data is successfully loaded from the server 
THE SYSTEM SHALL display each patient as a table row with Patient ID and formatted full name

WHEN patient data contains first name, middle name, and last name 
THE SYSTEM SHALL format the name as "FirstName MiddleName LastName" in title case

WHEN patient data contains only first and last name (no middle name) 
THE SYSTEM SHALL format the name as "FirstName LastName" in title case

WHEN no patient data is available 
THE SYSTEM SHALL display "No patients found." message in the table body

WHEN patient data fails to load from server 
THE SYSTEM SHALL log the error to console and display empty table

---

Search Functionality:
WHEN a user types in the search input field 
THE SYSTEM SHALL filter the displayed patients in real-time based on Patient ID or patient name

WHEN search text matches Patient ID 
THE SYSTEM SHALL include that patient in the filtered results

WHEN search text matches any part of the patient's full name (first, middle, or last name) 
THE SYSTEM SHALL include that patient in the filtered results

WHEN search input is cleared 
THE SYSTEM SHALL display all patients again

WHEN search yields no matching results 
THE SYSTEM SHALL display "No patients found." message

---

Navigation and User Interaction:
WHEN a user clicks on a patient's name link 
THE SYSTEM SHALL navigate to the patient information page (patientInfo.html) with the patient ID as query parameter

WHEN a user clicks the "Add New Patient" button 
THE SYSTEM SHALL navigate to the add new patient page (add-new-patient.html)

WHEN a user clicks on sidebar navigation items 
THE SYSTEM SHALL navigate to the corresponding pages (Dashboard, Appointments, Laboratory, Prescriptions, Doctor Schedule)

WHEN an admin user accesses the page 
THE SYSTEM SHALL dynamically add "Accounts" option to the sidebar navigation

---

User Interface and Visual Feedback:
WHEN the search input field receives focus 
THE SYSTEM SHALL highlight the input field with accent color border

WHEN a user hovers over a patient name link 
THE SYSTEM SHALL change the text color to gray to indicate it's clickable

WHEN a user hovers over the "Add New Patient" button 
THE SYSTEM SHALL scale the button to 1.05x and change background color for visual feedback

WHEN the page is loading patient data 
THE SYSTEM SHALL maintain the table structure while data is being fetched

---

Profile and Authentication Display:
WHEN the page loads 
THE SYSTEM SHALL display the logged-in user's role in uppercase and username in the header

WHEN the page loads 
THE SYSTEM SHALL display a profile avatar with the first letter of the username and a consistent color based on username hash

WHEN a user clicks the profile avatar 
THE SYSTEM SHALL show a dropdown menu with "Settings" and "Logout" options

WHEN a user clicks "Logout" from the profile dropdown 
THE SYSTEM SHALL clear stored authentication data and redirect to login page

---

Responsive Design and Layout:
WHEN the patients page is displayed 
THE SYSTEM SHALL maintain proper spacing and layout with sidebar on the left and main content area on the right

WHEN table content overflows 
THE SYSTEM SHALL use ellipsis for text overflow and maintain table structure

WHEN the page is viewed on different screen sizes 
THE SYSTEM SHALL maintain readable text and proper button spacing