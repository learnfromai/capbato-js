Core Registration Processing:
WHEN a client sends POST request to /auth/register with valid role, username, password, fullName, and email in JSON format
THE SYSTEM SHALL validate all required fields, hash the password, create user account, and return HTTP 201 with success message

WHEN a client sends registration request with valid data 
THE SYSTEM SHALL hash password using bcrypt with minimum 10 rounds before storing in database

WHEN user account is created successfully 
THE SYSTEM SHALL store user with role, username, hashed password, full_name, and email in users table

---

Request Validation:
WHEN a client sends registration request missing role field 
THE SYSTEM SHALL return HTTP 400 with error code REG_MISSING_ROLE and message "All fields are required"

WHEN a client sends registration request missing username field 
THE SYSTEM SHALL return HTTP 400 with error code REG_MISSING_USERNAME and message "All fields are required"

WHEN a client sends registration request missing password field 
THE SYSTEM SHALL return HTTP 400 with error code REG_MISSING_PASSWORD and message "All fields are required"

WHEN a client sends registration request missing fullName field 
THE SYSTEM SHALL return HTTP 400 with error code REG_MISSING_FULLNAME and message "All fields are required"

WHEN a client sends registration request missing email field 
THE SYSTEM SHALL return HTTP 400 with error code REG_MISSING_EMAIL and message "All fields are required"

WHEN a client sends registration request with invalid role value 
THE SYSTEM SHALL return HTTP 400 with error code REG_INVALID_ROLE and message "Role must be admin, doctor, or receptionist"

---

Business Rule Validation:
WHEN registration request contains username that already exists 
THE SYSTEM SHALL return HTTP 400 with error code REG_USERNAME_EXISTS and message "Username or Email already exists"

WHEN registration request contains email that already exists 
THE SYSTEM SHALL return HTTP 400 with error code REG_EMAIL_EXISTS and message "Username or Email already exists"

WHEN database constraint violation occurs during registration 
THE SYSTEM SHALL return HTTP 400 with error code REG_DUPLICATE_ENTRY and message "Username or Email already exists"

WHEN database error occurs during user creation 
THE SYSTEM SHALL return HTTP 500 with error code REG_SERVER_ERROR and message "Server error"

---

Security Requirements:
THE SYSTEM SHALL hash all passwords using bcrypt with minimum 10 rounds before storing in database
THE SYSTEM SHALL never log or store passwords in plaintext anywhere in the system
THE SYSTEM SHALL enforce unique constraints on username and email fields
THE SYSTEM SHALL validate role field against allowed values: admin, doctor, receptionist
THE SYSTEM SHALL log all registration attempts with error details for troubleshooting