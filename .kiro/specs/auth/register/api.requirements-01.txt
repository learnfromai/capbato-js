Core Registration:
WHEN a client sends POST request to /api/auth/register with valid role, username, password, fullName, and email in JSON format 
THE SYSTEM SHALL validate all required fields, hash the password, create user account, and return HTTP 201 with success message "Account created successfully"

WHEN a client sends registration request with valid credentials and user data
THE SYSTEM SHALL store user information in the database with bcrypt hashed password and enforce unique constraints on username and email

---

Request Validation:
WHEN a client sends registration request missing role field 
THE SYSTEM SHALL return HTTP 400 with error code REG_MISSING_ROLE and message "All fields are required"

WHEN a client sends registration request missing username field 
THE SYSTEM SHALL return HTTP 400 with error code REG_MISSING_USERNAME and message "All fields are required"

WHEN a client sends registration request missing password field 
THE SYSTEM SHALL return HTTP 400 with error code REG_MISSING_PASSWORD and message "All fields are required"

WHEN a client sends registration request missing fullName field 
THE SYSTEM SHALL return HTTP 400 with error code REG_MISSING_FULLNAME and message "All fields are required"

WHEN a client sends registration request missing email field 
THE SYSTEM SHALL return HTTP 400 with error code REG_MISSING_EMAIL and message "All fields are required"

WHEN a client sends registration request with invalid role value 
THE SYSTEM SHALL validate role is one of: admin, doctor, receptionist

---

Registration Failures:
WHEN a client sends registration request with username or email that already exists 
THE SYSTEM SHALL return HTTP 400 with error code REG_DUPLICATE_ENTRY and message "Username or Email already exists"

WHEN registration fails due to database constraint violation 
THE SYSTEM SHALL return HTTP 400 with error code REG_DUPLICATE_ENTRY and message "Username or Email already exists"

WHEN registration fails due to server error 
THE SYSTEM SHALL return HTTP 500 with error code REG_SERVER_ERROR and message "Server error"

WHEN registration fails 
THE SYSTEM SHALL log the error with details and timestamp for debugging purposes

---

Security Requirements:
THE SYSTEM SHALL hash all passwords using bcrypt with minimum 10 rounds before storing in database
THE SYSTEM SHALL never log or store passwords in plaintext anywhere in the system
THE SYSTEM SHALL enforce unique constraints on username and email fields
THE SYSTEM SHALL validate that role field contains only allowed values (admin, doctor, receptionist)
THE SYSTEM SHALL require HTTPS for all registration endpoints