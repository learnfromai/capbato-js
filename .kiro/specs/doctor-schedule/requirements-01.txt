Page Display and Navigation:
WHEN a user navigates to the doctor-schedule page 
THE SYSTEM SHALL display the page header with clinic logo, user role, username, and profile avatar

WHEN the doctor-schedule page loads 
THE SYSTEM SHALL display the sidebar navigation with Dashboard, Appointments, Patients, Laboratory, Prescriptions, and Doctors menu items

WHEN the doctor-schedule page loads 
THE SYSTEM SHALL highlight the "Doctors" menu item as active to indicate current page location

WHEN a user with admin role accesses the page 
THE SYSTEM SHALL inject an "Accounts" menu item in the sidebar navigation

---

Profile Management:
WHEN the doctor-schedule page loads 
THE SYSTEM SHALL display user profile avatar with the first letter of the username

WHEN the doctor-schedule page loads 
THE SYSTEM SHALL assign a consistent color to the profile avatar based on username hash

WHEN a user clicks on the profile avatar 
THE SYSTEM SHALL display a dropdown menu with "Settings" and "Logout" options

WHEN a user clicks outside the profile dropdown 
THE SYSTEM SHALL close the dropdown menu

WHEN a user clicks "Settings" in the profile dropdown 
THE SYSTEM SHALL close the dropdown and show "Settings functionality coming soon!" alert

WHEN a user clicks "Logout" in the profile dropdown 
THE SYSTEM SHALL clear localStorage authentication data and redirect to login.html

---

Doctors Table Display:
WHEN the doctor-schedule page loads 
THE SYSTEM SHALL display a doctors table with columns for Doctor's Name, Specialization, and Contact Number

WHEN the doctor-schedule page loads 
THE SYSTEM SHALL fetch doctors data from the /doctors API endpoint

WHEN the doctors API call succeeds 
THE SYSTEM SHALL populate the doctors table with the retrieved data showing "Dr. [FirstName] [LastName]" format

WHEN the doctors API call fails 
THE SYSTEM SHALL display fallback static data with sample doctors information

WHEN the doctors table is displayed 
THE SYSTEM SHALL left-align doctor names, center-align specializations and contact numbers

WHEN a user hovers over a doctor table row 
THE SYSTEM SHALL highlight the row with a light gray background

---

Calendar Display and Navigation:
WHEN the doctor-schedule page loads 
THE SYSTEM SHALL display a monthly calendar grid with day headers (Sun through Sat)

WHEN the doctor-schedule page loads 
THE SYSTEM SHALL show the current month and year in the calendar header

WHEN the doctor-schedule page loads 
THE SYSTEM SHALL fetch schedule data from the /schedules API endpoint

WHEN schedule data is loaded 
THE SYSTEM SHALL display doctor names and times on the corresponding calendar dates

WHEN a user clicks the previous month button 
THE SYSTEM SHALL navigate to the previous month and re-render the calendar

WHEN a user clicks the next month button 
THE SYSTEM SHALL navigate to the next month and re-render the calendar

WHEN the calendar renders 
THE SYSTEM SHALL show inactive cells for dates outside the current month

WHEN the calendar displays schedule information 
THE SYSTEM SHALL show doctor name in bold and time below on each scheduled date

WHEN no schedule data exists for a date 
THE SYSTEM SHALL display the date number only without schedule information

WHEN schedule data contains multiple entries for the same date 
THE SYSTEM SHALL display the first matching schedule for that date

---

Schedule Management and Editing:
WHEN the doctor-schedule page loads 
THE SYSTEM SHALL display an "Edit" button in the top-right corner of the calendar section

WHEN a user clicks the "Edit" button 
THE SYSTEM SHALL open an overlay modal with an iframe containing the edit schedule form

WHEN the edit schedule overlay opens 
THE SYSTEM SHALL load edit-sched.html in the iframe with form fields for doctor name, date, and time

WHEN the edit schedule form loads 
THE SYSTEM SHALL display required fields for doctor name (text), date (date picker), and time (text with placeholder "e.g. 9AM - 5PM")

WHEN the edit schedule form loads 
THE SYSTEM SHALL display a "Save" button with save icon for form submission

WHEN the edit schedule overlay is open 
THE SYSTEM SHALL display a close button (X) in the top-right corner

WHEN a user clicks the close button or outside the modal 
THE SYSTEM SHALL close the overlay and clear the iframe source

WHEN a schedule update is completed in the iframe 
THE SYSTEM SHALL receive a "scheduleUpdated" message, close the overlay, and reload the page

WHEN the edit schedule form is submitted with valid data 
THE SYSTEM SHALL send POST request to /schedules endpoint with doctor, date, and time

WHEN the edit schedule form submission succeeds 
THE SYSTEM SHALL send "scheduleUpdated" message to parent window

WHEN the edit schedule form submission fails 
THE SYSTEM SHALL display "Failed to save schedule." alert and log error to console

WHEN a user submits the edit schedule form 
THE SYSTEM SHALL prevent default form submission and handle via JavaScript

---

Authentication and Access Control:
WHEN the doctor-schedule page loads 
THE SYSTEM SHALL retrieve user role and username from localStorage

WHEN no authentication data is found in localStorage 
THE SYSTEM SHALL still allow page access but may not display user-specific information

WHEN user authentication data exists 
THE SYSTEM SHALL display the role in uppercase and username in the header

---

API Integration and Error Handling:
WHEN fetching schedules data fails 
THE SYSTEM SHALL log the error to console and continue with empty schedule display

WHEN fetching doctors data fails 
THE SYSTEM SHALL fallback to displaying static sample doctor data

WHEN schedule form submission occurs 
THE SYSTEM SHALL send POST request to /schedules endpoint with doctor, date, and time data

WHEN API calls are made 
THE SYSTEM SHALL handle both successful responses and error conditions gracefully

---

Sidebar Navigation:
WHEN a user clicks on Dashboard menu item 
THE SYSTEM SHALL navigate to index.html

WHEN a user clicks on Appointments menu item 
THE SYSTEM SHALL navigate to appointments.html

WHEN a user clicks on Patients menu item 
THE SYSTEM SHALL navigate to patients.html

WHEN a user clicks on Laboratory menu item 
THE SYSTEM SHALL navigate to laboratory.html

WHEN a user clicks on Prescriptions menu item 
THE SYSTEM SHALL navigate to prescriptions.html

WHEN a user clicks on Doctors menu item 
THE SYSTEM SHALL navigate to doctor-schedule.html (current page)

WHEN an admin user clicks on Accounts menu item 
THE SYSTEM SHALL navigate to accounts.html